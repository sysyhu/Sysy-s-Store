<h1><%= @user.new_record? ? "注册" : "修改个人信息" %></h1>
<% unless @user.errors.empty? %>
  <div class="alert alert-danger">
    <ul>
      <% @user.errors.messages.values.flatten.each do |error| %>
        <li><%= error %></li>
      <% end -%>
    </ul>
  </div>
<% end -%>

<%= form_for @user, url: (@user.new_record? ? users_path : user_path(@user)), method: (@user.new_record? ? :post : :put), html: { class: 'form-horizontal', id: "user_form"} do |f| %>
  <div class="form-group">
    <label class="col-sm-2 control-label">用户名 *</label>
    <div class="col-sm-10">
      <%= f.text_field :username, class: "form-control" %>
    </div>
  </div>
  <div class="form-group">
    <label class="col-sm-2 control-label">邮箱 *</label>
    <div class="col-sm-10">
      <%= f.text_field :email, class: "form-control" %>
    </div>
  </div>
  <div class="form-group">
    <label class="col-sm-2 control-label">密码 *</label>
    <div class="col-sm-10">
      <%= f.password_field :password, class: "form-control" %>
    </div>
  </div>
  <div class="form-group">
    <label class="col-sm-2 control-label">密码确认 *</label>
    <div class="col-sm-10">
      <%= f.password_field :password_confirmation, class: "form-control" %>
    </div>
  </div>
  <div class="form-group">
    <div class="col-sm-offset-2 col-sm-10">
      <input type="submit" name="create_user_submit" value="提交" class="btn btn-primary">
    </div>
  </div>
<% end -%>